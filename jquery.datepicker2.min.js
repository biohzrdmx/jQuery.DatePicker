/**
* jQuery DatePicker
* @author biohzrdmx <github.com/biohzrdmx>
* @version 2.0
* @requires jQuery 1.8+
* @license MIT
*/
;!function(e){e.datePicker={defaults:{container:"body",mode:"popup",select:"single",theme:"theme-light",show:"month",doubleSize:!1,restrictDates:!1,disableAnimations:!1,strings:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},views:{decade:{show:null,selected:[],disabled:[],forbidden:[],enabled:[],marked:[]},year:{show:null,selected:[],disabled:[],forbidden:[],enabled:[],marked:[]},month:{show:null,selected:[],disabled:[],forbidden:[],enabled:[],marked:[],firstDayOfWeek:0}},templates:{widget:'<div class="jquery-datepicker">',header:'<div class="box-row row-header"><div class="header-title">{title}</div><div class="header-actions"><div class="header-action action-down"></div><div class="header-action action-up"></div></div></div>'},callbacks:{onCreate:function(e){},onShow:function(e){},onViewDecade:function(e,a){return!0},onViewYear:function(e,a){return!0},onViewMonth:function(e,a){return!0},onChangeDecade:function(e,a,t){return!0},onChangeYear:function(e,a,t){return!0},onChangeMonth:function(e,a,t){return!0},onChangeDay:function(e,a,t){return!0},onCheckCell:function(e,a,t){return!1},onRenderCell:function(e,a,t){},onHide:function(e){}},animate:function(e,a,t){if(this.disableAnimations)t(e);else switch(a){case"fadeOut":e.css({opacity:1}).animate({opacity:0},{duration:150,complete:function(){t&&t(e)}});break;case"slideLeftOut":e.css({opacity:1}).animate({opacity:0,translateX:8},{duration:150,step:function(a,t){"translateX"==t.prop&&e.css("transform","translateX("+a+"px)")},complete:function(){e.css("transform","translateX(0)"),t&&t(e)}});break;case"slideRightOut":e.css({opacity:1}).animate({opacity:0,translateX:-8},{duration:150,step:function(a,t){"translateX"==t.prop&&e.css("transform","translateX("+a+"px)")},complete:function(){e.css("transform","translateX(0)"),t&&t(e)}});break;case"slideDownOut":e.css({opacity:1}).animate({opacity:0,translateY:0},{duration:150,step:function(a,t){"translateY"==t.prop&&e.css("transform","translateY("+(8-a)+"px)")},complete:function(){e.css("transform","translateY(0)"),t&&t(e)}});break;case"slideUpOut":e.css({opacity:1}).animate({opacity:0,translateY:0},{duration:150,step:function(a,t){"translateY"==t.prop&&e.css("transform","translateY("+-(8-a)+"px)")},complete:function(){e.css("transform","translateY(0)"),t&&t(e)}});break;case"fadeIn":e.css({opacity:0}).animate({opacity:1},{duration:150,complete:function(){t&&t(e)}});break;case"slideLeftIn":e.css({opacity:0,transform:"translateX(8px)"}).animate({opacity:1,translateX:0},{duration:150,step:function(a,t){"translateX"==t.prop&&e.css("transform","translateX("+-a+"px)")},complete:function(){t&&t(e)}});break;case"slideRightIn":e.css({opacity:0,transform:"translateX(-8px)"}).animate({opacity:1,translateX:0},{duration:150,step:function(a,t){"translateX"==t.prop&&e.css("transform","translateX("+-a+"px)")},complete:function(){t&&t(e)}});break;case"slideUpIn":e.css({opacity:0,transform:"translateY(8px)"}).animate({opacity:1,translateY:8},{duration:150,step:function(a,t){"translateY"==t.prop&&e.css("transform","translateY("+(8-a)+"px)")},complete:function(){t&&t(e)}});break;case"slideDownIn":e.css({opacity:0,transform:"translateY(-8px)"}).animate({opacity:1,translateY:8},{duration:150,step:function(a,t){"translateY"==t.prop&&e.css("transform","translateY("+-(8-a)+"px)")},complete:function(){t&&t(e)}})}},dateFormat:function(e){return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},dateParse:function(e){var a=new Date,t=e.match(/(\d{1,2})-(\d{1,2})-(\d{4})/);return t&&4==t.length&&(a=new Date(t[3],t[1]-1,t[2])),a}},api:{show:function(a){var t=e(".jquery-datepicker.is-popup"),s=e.datePicker.api.createWidget(a);return t.length&&e.datePicker.api.hide(t),s.addClass("is-open"),s.options.animate(s,s.hasClass("tip-above")?"slideDownIn":"slideUpIn",function(){s.options.callbacks.onShow(s)}),s},hide:function(a){return(a=(a=a||e(".jquery-datepicker.is-popup")).length?a.eq(0):null).length&&a.is(":visible")&&(a.options=a.data("options"),a.options.animate(a,a.hasClass("tip-above")?"slideUpOut":"slideDownOut",function(){a.removeClass("is-open"),a.options.callbacks.onHide(a),a.remove()})),a},createWidget:function(a){var t=e.extend(!0,{},e.datePicker.defaults,a),s=e(t.templates.widget);switch(t.container=t.container instanceof jQuery?t.container:e(t.container),t.element=t.element instanceof jQuery?t.element:e(t.element),t.views.decade.show=t.views.decade.show?t.dateParse(t.views.decade.show):new Date,t.views.year.show=t.views.year.show?t.dateParse(t.views.year.show):new Date,t.views.month.show=t.views.month.show?t.dateParse(t.views.month.show):new Date,s.data("options",t),s.options=t,s.views={},s.views.decade=e.datePicker.api.createDecadeView(t),s.views.year=e.datePicker.api.createYearView(t),s.views.month=e.datePicker.api.createMonthView(t),s.append(s.views.decade),s.append(s.views.year),s.append(s.views.month),t.show){case"decade":s.views.decade.addClass("is-active");break;case"year":s.views.year.addClass("is-active");break;case"month":s.views.month.addClass("is-active")}switch(t.container.append(s),t.mode){case"inline":s.addClass("is-open").addClass("is-inline");break;case"popup":if(t.element.length){var n=t.element.offset(),i=window.innerWidth;elementSize={x:t.element.outerWidth(),y:t.element.outerHeight()},widgetSize={x:s.outerWidth(),y:s.outerHeight()},n.top>widgetSize.y+15?(s.addClass("tip-below"),s.css("top",n.top-widgetSize.y-15+"px")):(s.addClass("tip-above"),s.css("top",n.top+elementSize.y+15+"px")),n.left<i/2?(s.addClass("tip-left"),s.css("left",n.left+"px")):(s.addClass("tip-right"),s.css("left",n.left+elementSize.x-widgetSize.x+"px"))}s.addClass("is-popup"),e(document).on("mouseup",function(a){s.is(a.target)||0!==s.has(a.target).length||(e(document).off("mouseup"),e.datePicker.api.hide(s))})}return s.views.decade.on("click",".header-title",function(a){e(this);a.preventDefault()}),s.views.decade.on("click",".action-down",function(a){e(this);a.preventDefault(),t.callbacks.onChangeDecade(s,new Date(t.views.decade.show),"down")&&t.animate(s.views.decade,"slideLeftOut",function(){s.views.decade.empty(),t.views.decade.show.setYear(t.views.decade.show.getFullYear()-10),e.datePicker.api.createDecadeView(t,s.views.decade),t.animate(s.views.decade,"slideRightIn")})}),s.views.decade.on("click",".action-up",function(a){e(this);a.preventDefault(),t.callbacks.onChangeDecade(s,new Date(t.views.decade.show),"up")&&t.animate(s.views.decade,"slideRightOut",function(){s.views.decade.empty(),t.views.decade.show.setYear(t.views.decade.show.getFullYear()+10),e.datePicker.api.createDecadeView(t,s.views.decade),t.animate(s.views.decade,"slideLeftIn")})}),s.views.decade.on("click",".cell-day",function(a){var n=e(this),i=n.data("date");a.preventDefault(),n.hasClass("cell-grayed")||(t.callbacks.onChangeYear(s,new Date(i),!1)&&(s.views.year.empty(),t.views.year.show=new Date(i),e.datePicker.api.createYearView(t,s.views.year)),t.callbacks.onViewYear(s,new Date(i))&&t.animate(s.views.decade,"fadeOut",function(){s.views.decade.removeClass("is-active"),s.views.year.addClass("is-active"),t.animate(s.views.year,"fadeIn")}))}),s.views.year.on("click",".header-title",function(a){e(this);a.preventDefault(),t.callbacks.onViewDecade(s,t.views.decade.show)&&t.animate(s.views.year,"fadeOut",function(){t.views.decade.show.getFullYear()!=t.views.year.show.getFullYear()&&(s.views.decade.empty(),t.views.decade.show.setYear(t.views.year.show.getFullYear()),e.datePicker.api.createDecadeView(t,s.views.decade)),s.views.year.removeClass("is-active"),s.views.decade.addClass("is-active"),t.animate(s.views.decade,"fadeIn")})}),s.views.year.on("click",".action-down",function(a){e(this);a.preventDefault(),t.callbacks.onChangeYear(s,new Date(t.views.year.show),"down")&&t.animate(s.views.year,"slideLeftOut",function(){s.views.year.empty(),t.views.year.show.setYear(t.views.year.show.getFullYear()-1),e.datePicker.api.createYearView(t,s.views.year),t.animate(s.views.year,"slideRightIn")})}),s.views.year.on("click",".action-up",function(a){e(this);a.preventDefault(),t.callbacks.onChangeYear(s,new Date(t.views.year.show),"up")&&t.animate(s.views.year,"slideRightOut",function(){s.views.year.empty(),t.views.year.show.setYear(t.views.year.show.getFullYear()+1),e.datePicker.api.createYearView(t,s.views.year),t.animate(s.views.year,"slideLeftIn")})}),s.views.year.on("click",".cell-day",function(a){var n=e(this),i=n.data("date");a.preventDefault(),n.hasClass("cell-grayed")||(t.callbacks.onChangeMonth(s,new Date(i),!1)&&(s.views.month.empty(),t.views.month.show=new Date(i),e.datePicker.api.createMonthView(t,s.views.month)),t.callbacks.onViewMonth(s,new Date(i))&&t.animate(s.views.year,"fadeOut",function(){s.views.year.removeClass("is-active"),s.views.month.addClass("is-active"),t.animate(s.views.month,"fadeIn")}))}),s.views.month.on("click",".header-title",function(a){e(this);a.preventDefault(),t.callbacks.onViewYear(s,t.views.year.show)&&t.animate(s.views.month,"fadeOut",function(){t.views.year.show.getFullYear()!=t.views.month.show.getFullYear()&&(s.views.year.empty(),t.views.year.show.setYear(t.views.month.show.getFullYear()),e.datePicker.api.createYearView(t,s.views.year)),s.views.month.removeClass("is-active"),s.views.year.addClass("is-active"),t.animate(s.views.year,"fadeIn")})}),s.views.month.on("click",".action-down",function(a){e(this);a.preventDefault(),t.callbacks.onChangeMonth(s,new Date(t.views.month.show),"down")&&t.animate(s.views.month,"slideLeftOut",function(){var a=t.views.month.show.getMonth()-1;a<0&&(t.views.month.show.setYear(t.views.month.show.getFullYear()-1),a=11),s.views.month.empty(),t.views.month.show.setMonth(a),e.datePicker.api.createMonthView(t,s.views.month),t.animate(s.views.month,"slideRightIn")})}),s.views.month.on("click",".action-up",function(a){e(this);a.preventDefault(),t.callbacks.onChangeMonth(s,new Date(t.views.month.show),"up")&&t.animate(s.views.month,"slideRightOut",function(){var a=t.views.month.show.getMonth()+1;a>11&&(t.views.month.show.setYear(t.views.month.show.getFullYear()+1),a=0),s.views.month.empty(),t.views.month.show.setMonth(a),e.datePicker.api.createMonthView(t,s.views.month),t.animate(s.views.month,"slideLeftIn")})}),s.views.month.on("click",".cell-day",function(a){var n=e(this),i=n.data("date");a.preventDefault(),n.hasClass("cell-grayed")||n.hasClass("cell-forbidden")||t.callbacks.onChangeDay(s,new Date(i))&&("single"==t.select&&(t.views.month.selected=[],s.views.month.find(".cell-day").removeClass("cell-selected"),"popup"==t.mode&&(e.datePicker.api.hide(s),t.element.val(t.dateFormat(i)))),n.addClass("cell-selected"),t.views.month.selected.push(new Date(i)))}),s.addClass(t.theme),t.doubleSize&&s.addClass("is-2x"),t.callbacks.onCreate(s),s},createHeader:function(a,t){return e(t.templates.header.replace("{title}",a))},createDecadeView:function(a,t){t=t||e('<div class="datepicker-box"></div>');for(var s=a.views.decade,n=s.show.getFullYear()-s.show.getFullYear()%10,i=n+"-"+(n+9),o=e.datePicker.api.createHeader(i,a),r=[],d=0,c=n-3;d<16;d++,c++)r.push(c);o.addClass("js-header-decade"),t.append(o),t.addClass("box-decade");var l=[];for(d=0;d<4;d++){var w=e('<div class="box-row row-week"></div>');l.push(w),t.append(w)}var h=new Date;h.setMonth(0),h.setDate(1);d=0;for(var v=0,p=1;d<16;d++,p++){w=l[v];var u=e('<div class="box-cell cell-day">'+r[d]+"</div>");w.append(u),p>3&&(p=0,v++);var f="01-01-"+r[d];f=new Date(f),u.data("date",f);var m=!1;switch(a.restrictDates){case"past":m=f>h;break;case"future":m=f.toDateString()!=h.toDateString()&&f<h;break;case"custom":m=!a.callbacks.onCheckCell(u,f,"year")}d<3||d>=13||m?u.addClass("cell-grayed"):f.toDateString()==h.toDateString()&&u.addClass("cell-today"),a.callbacks.onRenderCell(u,f,"year")}return t},createYearView:function(a,t){t=t||e('<div class="datepicker-box"></div>');for(var s=a.views.year,n=s.show.getFullYear(),i=e.datePicker.api.createHeader(n,a),o=[],r=0;r<12;r++)o.push(a.strings.months[r]);i.addClass("js-header-year"),t.append(i),t.addClass("box-year");var d=[];for(r=0;r<3;r++){var c=e('<div class="box-row row-week"></div>');d.push(c),t.append(c)}var l=new Date;l.setDate(1);r=0;for(var w=0,h=1;r<12;r++,h++){c=d[w];var v=e('<div class="box-cell cell-day">'+o[r].substring(0,3)+"</div>");c.append(v),h>3&&(h=0,w++);var p=r+1+"-01-"+s.show.getFullYear();p=new Date(p),v.data("date",p);var u=!1;switch(a.restrictDates){case"past":u=p>l;break;case"future":u=p.toDateString()!=l.toDateString()&&p<l;break;case"custom":u=!a.callbacks.onCheckCell(v,p,"month")}u&&v.addClass("cell-grayed"),p.toDateString()==l.toDateString()&&v.addClass("cell-today"),a.callbacks.onRenderCell(v,p,"month")}return t},createMonthView:function(a,t){t=t||e('<div class="datepicker-box"></div>');for(var s=a.views.month,n=a.strings.months[s.show.getMonth()]+" "+s.show.getFullYear(),i=e.datePicker.api.createHeader(n,a),o=new Date(s.show.getFullYear(),s.show.getMonth()+1,0).getDate(),r=new Date(s.show.getFullYear(),s.show.getMonth(),1).getDay(),d=0==s.show.getMonth()?11:s.show.getMonth()-1,c=s.show.getFullYear()-(0==s.show.getMonth()?1:0),l=11==s.show.getMonth()?0:s.show.getMonth()+1,w=s.show.getFullYear()+(11==s.show.getMonth()?1:0),h=new Date(c,d+1,0).getDate(),v=[],p=0;p<o;p++)v.push(p+1);if(i.addClass("js-header-month"),t.append(i),t.addClass("box-month"),s.firstDayOfWeek=s.firstDayOfWeek<0?0:s.firstDayOfWeek>6?6:s.firstDayOfWeek,s.firstDayOfWeek>0){var u=a.strings.days.splice(0,s.firstDayOfWeek);a.strings.days=a.strings.days.concat(u)}var f=e('<div class="box-row row-days"></div>');for(p=0;p<7;p++)f.append('<div class="box-cell cell-day">'+a.strings.days[p].substring(0,2)+"</div>");t.append(f);var m=r-s.firstDayOfWeek,y=42-(o+m);m<0&&(y=42-(o+(m=7+m)));var g=[];for(p=1;p<=m;p++)g.push(h-(m-p));v=g.concat(v),g=[];for(p=1;p<=y;p++)g.push(p);v=v.concat(g);var k=[];for(p=0;p<6;p++){var b=e('<div class="box-row row-week"></div>');k.push(b),t.append(b)}for(var D=new Date,C=(p=0,0),Y=1;p<42;p++,Y++){b=k[C];var x=e('<div class="box-cell cell-day">'+v[p]+"</div>");b.append(x),Y>6&&(Y=0,C++);var S="";S=p<m?d+1+"-"+v[p]+"-"+c:p>=42-y?l+1+"-"+v[p]+"-"+w:s.show.getMonth()+1+"-"+v[p]+"-"+s.show.getFullYear(),S=new Date(S),x.data("date",S);var M=!1;if(s.enabled.length){M=!0;for(var F=0;F<s.enabled.length;F++)if("string"==typeof s.enabled[F]&&(s.enabled[F]=new Date(s.enabled[F])),S.toDateString()==s.enabled[F].toDateString()){M=!1;break}}else switch(a.restrictDates){case"past":M=S>D;break;case"future":M=S.toDateString()!=D.toDateString()&&S<D;break;case"custom":M=!a.callbacks.onCheckCell(x,S,"day")}if(p<m||p>=42-y||M)x.addClass("cell-grayed");else{if(S.toDateString()==D.toDateString()&&x.addClass("cell-today"),s.disabled.length)for(F=0;F<s.disabled.length;F++)if("string"==typeof s.disabled[F]&&(s.disabled[F]=new Date(s.disabled[F])),S.toDateString()==s.disabled[F].toDateString()){x.addClass("cell-grayed");break}if(s.forbidden.length)for(F=0;F<s.forbidden.length;F++)if("string"==typeof s.forbidden[F]&&(s.forbidden[F]=new Date(s.forbidden[F])),S.toDateString()==s.forbidden[F].toDateString()){x.addClass("cell-forbidden");break}if(s.marked.length)for(F=0;F<s.marked.length;F++)if("string"==typeof s.marked[F]&&(s.marked[F]=new Date(s.marked[F])),S.toDateString()==s.marked[F].toDateString()){x.addClass("cell-marked");break}if(s.selected.length)for(F=0;F<s.selected.length;F++)if("string"==typeof s.selected[F]&&(s.selected[F]=new Date(s.selected[F])),S.toDateString()==s.selected[F].toDateString()){x.addClass("cell-selected");break}}a.callbacks.onRenderCell(x,S,"day")}return t}}},jQuery(document).ready(function(e){e("[data-select=datepicker]").each(function(){var a=e(this);a.attr("autocomplete","off"),a.on("click",function(){var t=a.val(),s=e.datePicker.api.show({views:{month:{show:t,selected:[t]}},element:a});a.data("widget",s)})})})}(jQuery);